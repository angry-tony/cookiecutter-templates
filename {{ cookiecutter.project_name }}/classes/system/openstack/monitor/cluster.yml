classes:
  - system.openstack.common
  - system.linux.repo.sensu
  - system.openstack.monitor.credentials
  - system.rabbitmq.server.cluster.monitoring
  - system.haproxy.proxy.monitoring
  - system.sensu.server.dashboard
  - system.sensu.server.handler.mail
  - system.sensu.server.handler.sfdc
  - system.sensu.server.handler.slack
  - system.mysql.server.cluster
  - system.linux.repo.openstack
  - system.keystone.client.monitoring
  - service.python.environment
  - service.memcached.server.local
  - service.sensu.server.single
  - service.keepalived.cluster.single
  - service.redis.server.single
#  - service.supervisor.server.single
#  - service.kedb.server.single
parameters:
  _param:
    cluster_node01_hostname: sdp-vsmonv-01
    cluster_node01_address: 10.25.12.81
    cluster_node02_hostname: sdp-vsmonv-02
    cluster_node02_address: 10.25.12.82
    cluster_vip_address: ${_param:mon_vip_address}
    sensu_message_queue_host: ${_param:cluster_vip_address}
    keepalived_vip_virtual_router_id: 240
    keepalived_vip_interface: eth1
    kedb_logging_dsn: quickplay.local
  redis:
    server:
      bind:
        address: ${_param:single_address}
  sensu:
    server:
      bind:
        address: ${_param:single_address}
      database:
        host: ${_param:cluster_vip_address}
  collectd:
    client:
        check:
          curl:
            openstack_keystone_api:
              url: "http://10.25.12.100:5000/v2/"
            openstack_nova_api_v2:
              url: "http://10.25.12.100:8774/"
            openstack_glance-api:
              url: "http://10.25.12.100:9292/"
            openstack_neutron-api:
              url: "http://10.25.12.20:9696/"
            openstack_nova_api_v3:
              url: "http://10.25.12.100:8774/v3/"
            openstack_heat_cnf:
              url: "http://10.25.12.100:8000/v1/"
            openstack_heat_api:
              url: "http://10.25.12.100:8004/v1/"
          ping:
            openstack_dashboard:
              host: "10.25.12.71"
  # mysql:
  #   server:
  #     database:
  #       kedb:
  #         encoding: UTF8
  #         locale: cs_CZ
  #         users:
  #         - name: kedb
  #           password: ${_param:mysql_kedb_password}
  #           host: ${_param:single_address}
  #           rights: all privileges
  # kedb:
  #   server:
  #     database:
  #       engine: mysql
  #       port: 3306
  #       host: ${_param:single_address}
  #       password: ${_param:mysql_kedb_password}
  #     source:
  #       engine: pkg
