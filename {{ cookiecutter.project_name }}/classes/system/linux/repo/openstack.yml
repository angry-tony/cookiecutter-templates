classes:
- system.linux.repo.tcpcloud
parameters:
  linux:
    system:
      repo:
        tcpcloud_openstack:
          # NOTE: if offended with latter, feel free to add cookiecutter additional filters as ansible does: http://docs.ansible.com/ansible/playbooks_filters.html
          {%- set repotags={ cookiecutter.horizon_version: '', cookiecutter.openstack_version: '' , cookiecutter.galera_repo_tag: '' } %}
          source: "deb [arch=amd64] {{ cookiecutter.apt_repository }}/{{ cookiecutter.apt_branch }}/ trusty main security extra tcp tcp-salt {{ repotags|join(' ') }} {{ cookiecutter.openstack_version }} oc{{cookiecutter.opencontrail_version|replace('.', '') }} {{ cookiecutter.galera_repo_tag }}"
          architectures: amd64
          key_url: "{{ cookiecutter.apt_repository }}/public.gpg"

